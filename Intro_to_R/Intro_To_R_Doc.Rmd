---
title: "Introduction to R"
author: "Richard Johansen"
date: "August 29, 2018"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## Workshop Summary and Contact Information

**Summary:** R is a free and powerful programming language that is commonly used by researchers in both qualitative and quantitative disciplines. R provides a near comprehensive, and still expanding set of research and data analysis tools. This workshop provides a gradual introduction to the basics of programming with R using R Studio. As a participant in this workshop you will accomplish the following: explore the R Studio interface, perform basic data manipulation, learn how to install and run packages, conduct simple data analyses, and produce basic data visualizations. The focus of this workshop will be hands-on exercises to provide a deeper and more effective understanding of R. No programming experience is required, and beginners are encouraged to attend.

**Contact:**   
Email: AskData@uc.edu  
Location: 240 Braunstein Hall (GMP Library)  
Research & Data Services Website: https://libraries.uc.edu/digital-scholarship/data-services.html  
GitHub: RAJohansen  
Twitter: @DataVizJohansen  

### **R Interface Basics**

#####**R as a calculator**
```{r, eval = FALSE}
1+2
```

##### **Object and Assignments**
```{r}
x <- 1+2

y <- x +1
```

##### **Naming Conventions**
Keep names short, sweet, and relevent so anyone can follow your script!  
  
**Common Naming Conventions** 
Snake Case: "i_use_snake_case"   
Camel Case  "iUseCamelCase"  
Periods "i.use.periods"  
Combinations "iCant_decide.which_toUse"   
  
**Naming Hints**  
R is case sensative, so x != X  
Objects must start with a letter  
Use only numbers, letters, and _

##### **Understanding Functions**
Function formating: function_name(arg1 = val1, arg2 = val2)  
**HINT:** if you can't remember exactly what function you are looking we can use Tab    
Now that you found the function, How do you use it?  
**HINT:** Use the ? to find R documentation on an object  
  
##### <span style = "color:blue">**TASK 1A**</span>  
Create a sequence of numbers from 1 to 10 using the seq() function  

```{r, eval = FALSE}
?seq()
```

#####<span style="color:blue">**TASK 1B**</span>  
Create a sequence of numbers from 1 to 10 by 0.5 and save it to an object called Seq  

```{r, eval = FALSE}
Seq <- seq(1,10, by =0.5) #define step by value  
Seq2 <- seq(1,10, length.out = 5) #Defined number of values  
```


### **Working with Data Tables**

##### **Installing R package from CRAN Repository**
To access specific packages, that are not on base R, you must install that package before you can you use it. However, you only have to install a package once (per computer).  

Once the package is installed you have to run or open that package using the library function. This needs to be done everytime you open R Studio
```{r, eval=FALSE}
install.packages("tidyverse")
library(tidyverse)
```


##### **Quibbles with Tibbles**
Stolen from a tweet from Hadley Wickham  
**Tibbles** are modified versions of data.frames which make life in R a little easier.  

Here is an example of a tibble with 4 variables with 10 values using diffent methods 

```{r, eval = FALSE}
vignette("tibble")

df_exp <- tibble::tibble(
  a = seq(1,10),
  b = rnorm(10),
  c = c(11:20),
  d = c(0.1,0.2,0.3,0.4,0.5,0.6,0.7,0.8,0.9,1.0)
)
```

#####<span style="color:blue">**TASK 2A**</span>  
Create a new tibble called "df" with two variables ("A" and "B") each with 20 different sets of observations.  
  
```{r, eval =FALSE}
df <- tibble(
  A = seq(1,20),
  B = rnorm(20)
)
```


##### **Adding a column with mutate**
We will add a new column ("C"") to our table from <span style="color:blue">**TASK 2A**</span> using the mutate function from the dplyr package.    

We also will need to use the pipe (%>%) function which allows us to continue code, similar to an "and do this". 
**Hint** Using ctrl + shift + m is the shortcut key for pipe (%>%).  

```{r, eval =FALSE}
df <- df %>%
  dplyr::mutate(C = A/B)
```

##### **Exploring a data table**
Using brackets we can explore the values within certain positions of the table.  
For example, we want to see all rows in column 2 or the first 5 rows in each coloumn.

```{r, eval=FALSE}
df[,2]
df[5,]
```

#####<span style="color:blue">**TASK 2B**</span>  
What code would return the value in row 10 of column 3? 

```{r, eval=FALSE}
df[10,3]
```


#####<span style="color:blue">**TASK 2C**</span>  
Based on this idea, What code would return the 3rd through 5th rows for the 2nd and 3rd columns.  

```{r, eval=FALSE}
df[3:5,2:3]
```

##### **Saving a data table**
Now that we have created our data set we want to save it as a CSV file.  

```{r, eval=FALSE}
write_csv(df, "C:/temp/my_table.csv")
```









